import numpy as np
import matplotlib.pyplot as plt
import matplotlib.lines as mlines
from scipy.special import gamma
from scipy.interpolate import interp1d
from scipy.interpolate import lagrange


p1000 = np.array([299209,228187,263785,326194,235277,247522,255473,243106,209408,224081,245302,227515,295536,305069,292228,244627,246918,166197,170306,397046])
p2000 = np.array([1.12589e+06,894273,285071,612914,676543,471921,1.0371e+06,625199,212617,202806,388896,1.1733e+06,699613,398560,174488,173583,1.16916e+06,1.0786e+06,566285,384182])
p3000 = np.array([2.49026e+06,246310,1.82505e+06,1.26677e+06,676048,2.13265e+06,1.68959e+06,2.64846e+06,647788,1.35322e+06,1.45621e+06,754487,1.75871e+06,1.66197e+06,582478,542416,1.35431e+06,2.26145e+06,338585,829425])
p4000 = np.array([4.44918e+06,1.09742e+06,2.41436e+06,4.47719e+06,248009,4.03359e+06,354369,913878,4.12324e+06,1.31648e+06,3.45686e+06,2.30092e+06,4.41802e+06,1.63418e+06,234516,4.42163e+06,4.82722e+06,3.39512e+06,373303,2.28588e+06])
p5000 = np.array([4.68865e+06,4.00323e+06,3.82687e+06,5.67969e+06,3.70181e+06,1.72817e+06,1.97648e+06,4.59269e+06,6.00106e+06,6.88858e+06,5.33187e+06,1.78594e+06,6.53516e+06,5.61211e+06,6.66726e+06,2.1306e+06,5.92023e+06,4.89576e+06,6.62734e+06,5.80399e+06])
p6000 = np.array([7.88476e+06,1.61179e+06,4.06686e+06,2.30235e+06,6.62699e+06,2.69612e+06,1.54209e+06,4.14683e+06,5.46473e+06,7.61909e+06,7.29928e+06,6.71199e+06,1.07011e+07,3.84756e+06,8.72711e+06,2.02142e+06,3.0781e+06,2.93916e+06,9.89646e+06,6.97286e+06])
p7000 = np.array([1.06621e+07,2.34236e+06,1.49312e+06,1.01117e+07,5.71608e+06,7.53674e+06,1.34956e+06,1.2698e+07,1.72985e+06,7.75899e+06,3.13763e+06,1.04297e+07,1.01931e+07,1.32954e+07,7.36714e+06,2.56962e+06,7.48186e+06,7.29692e+06,6.75403e+06,745402])
p8000 = np.array([1.06294e+07,1.07158e+07,9.7954e+06,1.95953e+07,1.80728e+07,1.70201e+07,3.16399e+06,4.0119e+06,1.74253e+07,4.77908e+06,1.5437e+07,1.27257e+07,1.44762e+06,1.59572e+07,9.07934e+06,1.91608e+07,7.30999e+06,7.3075e+06,1.32863e+07,1.00368e+06])
p9000 = np.array([1.84248e+07,7.2705e+06,2.26526e+07,2.22267e+07,2.14129e+07,9.49227e+06,2.45493e+07,8.78696e+06,9.36003e+06,2.19155e+06,1.31054e+07,2.43185e+07,1.5108e+06,2.09863e+07,1.17875e+07,2.2543e+07,1.30399e+07,1.25911e+07,1.86585e+06,1.84015e+07])
p10000 = np.array([2.36401e+07,1.00302e+07,2.17547e+07,6.1128e+06,2.94148e+07,1.46985e+07,5.62199e+06,8.74272e+06,1.50336e+07,3.13329e+07,7.19305e+06,1.30097e+07,1.88637e+07,2.06153e+07,2.08803e+07,705132,2.23671e+07,2.73791e+06,1.07736e+07,2.1227e+07])
Promedios = np.array([256149,617550,1.32581e+06,2.53877e+06,4.71987e+06,5.30783e+06,6.53347e+06,1.08962e+07,1.43259e+07,1.52378e+07])
peorCaso = np.array([407046,1.20589e+06,2.69026e+06,4.94918e+06,6.98858e+06,1.09011e+07,1.45656e+07,2.15953e+07,2.66526e+07,3.13329e+07])
mejorCaso = np.array([99443,99443,99443,99443,109443,119443,129443,139443,149443,159443])

# mejorCaso = np.array([1685.4,3848.8,7012,9205.8,10321.4,11572.8,10519.2,15604,12448.4,16273.6])
# peorCaso = np.array([639109,2.66626e+06,6.22243e+06,1.1447e+07,1.84727e+07,2.71582e+07,3.77588e+07,5.01973e+07,6.44684e+07,8.09294e+07])

# peorCaso = np.array([1457,2173,3109,4427,5207,6045,7091,7547,8605,9105,9955,10104,11430,12085,13260,14430,15644,16441,17814])
# mejorCaso = np.array([1015,1104,1269,1430,1685,2016,2162,3966,3956,3997,4695,4268,4567,4350,4493,4685,5925,5411,5685])

xdel1 = np.array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1])
x1 = np.array([1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000])
x2 = np.array([1000,2000,3000,4000,5000,6000,7000,8000,9000,10000])

inter = lagrange(x2,Promedios)

# peorCaso = np.array([0.000004,0.000016,0.000035,0.000038,0.000085,0.000207,0.000166,0.000208,0.00026,0.000406,0.000383,0.000493,0.000615])
# mejorCaso = np.array([0.000005,0.000004,0.000008,0.000009,0.000009,0.00001,0.000011,0.000011,0.000012,0.000013,0.000014,0.000016,0.000016])
# inter1 = lagrange(x2,mejorCaso)
# ,
# inter2 = lagrange(x2,peorCaso)

x = np.linspace(1, 100000, num = 3000000, endpoint=True)

# x, 0.3*x,'b-','b-',x2,inter2(x2),'ys-',x2,inter1(x2),'g*-',
plt.plot( x, 0.01*(x+(x*x)/2),x2,inter(x2)/100,'r^-',x2, peorCaso/100, 'ys-', x2, mejorCaso/100, 'g*-',
xdel1*1000,p1000/100,'.',
xdel1*2000,p2000/100,'.',
xdel1*3000,p3000/100,'.',xdel1*4000,p4000/100,'.',
xdel1*5000,p5000/100,'.',
xdel1*6000,p6000/100,'.',xdel1*7000,p7000/100,'.',
xdel1*8000,p8000/100,'.',
xdel1*9000,p9000/100,'.',xdel1*10000,p10000/100,'.')
plt.axis([0,11000,0,300000])

cota = mlines.Line2D([],[], color = 'blue', marker = '')
prom = mlines.Line2D([],[], color = 'red',  marker = '^')
best = mlines.Line2D([],[], color = 'green', marker = '*')
worst = mlines.Line2D([],[], color = 'yellow', marker = 's')
mediciones, = plt.plot([],'.')

plt.legend([cota, prom, worst, best, mediciones],['Cota: n+m','Promedio','Peor Caso','Mejor Caso','Mediciones'],bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)
plt.ylabel('Miliseconds')
plt.xlabel('Cantidad de nodos n')
plt.show()

# x = np.array([0,1,2,3,4,5,6,7,8,9,10])
# y = np.array([1,1,2,6,24,120,720,5040,40320,362880,3628800])
#
# f = interpolate(x,y,kind='cubic')
# plt.plot(x,y, 'o',x,f, '-')
# plt.axis([0,10,0,800])
# plt.show()

# plt.plot(x, , 'yo',[1,1],[0,6],'b-',[0,6],[5,5],'r-',[5,5],[0,6],'g-',[0,6],[1,1],'y-')
# plt.axis([0,6,0,6])
# plt.show()

#en este grafico graficamos los puntos (1,8), (2,20), (3,22)... hasta el (8,55)
#junto con la curva que representa una complejidad lineal que pasa por encima de la curva
